<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Count on Me</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <div id="app">
        <header id="header">
            <nav class="navbar navbar-light bg-white navbar-expand-md fixed-top">
                <a class="navbar-brand isRed" href="#">
                    <h1><span class="isRed">TEDx</span><span>KasetsartU</span></h1>
                    <p><span class="isRed subTitle">x</span> = independently organized TED event</p>
                </a>
                
                <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarNav" aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation">
                    <span class="navbar-toggler-icon"></span>
                </button>
                    <div class="collapse navbar-collapse justify-content-end align-items-center" id="navbarNav">
                    <ul class="navbar-nav">
                        <li class="nav-item">
                            <a class="nav-link" id="startTimer" href="#">Start</a>
                        </li>
                        <li class="nav-item displayNone" id="pause-resume">
                            <a class="nav-link" id="pause" href="#">Pause</a>
                            <a class="nav-link displayNone" id="resume" href="#">Resume</a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link" id="stopTimer" href="#">Stop</a>
                        </li>
                    </ul>
                </div>
            </nav>
        </header>
        
        <main id="main">
            <section id="showtime">
                <!-- <h1 id="timer" v-if="!isEditable" @click="setTime">{{ hours }}h : {{ minutes }}m : {{ seconds }}s</h1> -->
                <div class="" v-if="!isEditable">
                    <div @click="handleEditable">
                        <span class="" tabindex="0">{{ digit_1 }}</span>
                        <span class="" tabindex="0">{{ digit_2 }}</span>
                        <span class="">h</span>
                        <span class="" tabindex="0">{{ digit_3 }}</span>
                        <span class="" tabindex="0">{{ digit_4 }}</span>
                        <span class="">m</span>
                        <span class="" tabindex="0">{{ digit_5 }}</span>
                        <span class="" tabindex="0">{{ digit_6 }}</span>
                        <span class="">s</span>
                    </div>
                    <button @click="openFullscreen" v-if="!isFullScreen">Open fullscreen</button>
                    <button @click="openFullscreen" v-else>Close fullscreen</button>
                </div>
                <input 
                    v-else
                    type="number" 
                    name="timer" 
                    id="timer" 
                    :placeholder="timer" 
                    v-on:keyup.enter="setTime"
                    @blur="setTime"
                    maxlength = "6"
                    oninput="javascript: if (this.value.length > this.maxLength) this.value = this.value.slice(0, this.maxLength);"
                >
            </section>
        </main>
    </div>

<script src="https://cdn.jsdelivr.net/npm/vue/dist/vue.js"></script>
<script>
    var app = new Vue({
        el: '#app',
        data: {
            isEditable: false,
            seconds: '000000',
            digit_1: 0,
            digit_2: 0,
            digit_3: 0,
            digit_4: 0,
            digit_5: 0,
            digit_6: 0,
        },
        computed: {
            timer: function() {
                return `${this.digit_1}${this.digit_2}h ${this.digit_3}${this.digit_4}m ${this.digit_5}${this.digit_6}s`;
            }
        },
        methods: {
            setTime: function(e) {
                while (e.target.value.length < 6) {
                    e.target.value = `0${e.target.value}`;
                }
                this.digit_1 = e.target.value[0];
                this.digit_2 = e.target.value[1];
                this.digit_3 = e.target.value[2];
                this.digit_4 = e.target.value[3];
                this.digit_5 = e.target.value[4];
                this.digit_6 = e.target.value[5];
                this.isEditable = false;
            },
            handleEditable: function() { this.isEditable = !this.isEditable },
            openFullscreen: function() {
                var elem = document.documentElement;
                
                if (elem.requestFullscreen) {
                    elem.requestFullscreen();
                } else if (elem.mozRequestFullScreen) { 
                    elem.mozRequestFullScreen();
                } else if (elem.webkitRequestFullscreen) { 
                    elem.webkitRequestFullscreen();
                } else if (elem.msRequestFullscreen) { 
                    elem.msRequestFullscreen();
                }
            },
            closeFullscreen: function() {
                var elem = document.documentElement;

                if (document.exitFullscreen) {
                    document.exitFullscreen();
                } else if (document.mozCancelFullScreen) { 
                    document.mozCancelFullScreen();
                } else if (document.webkitExitFullscreen) { 
                    document.webkitExitFullscreen();
                } else if (document.msExitFullscreen) { 
                    document.msExitFullscreen();
                }
            },
            start: function() {
                // setInterval(() => {
                //     this.
                // }, 1000)
            }
        }
    })
</script>
<!-- <script src="script.js"></script> -->
</body>
</html>